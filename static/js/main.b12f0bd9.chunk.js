(this.webpackJsonpkysapka_web_chat_firebase=this.webpackJsonpkysapka_web_chat_firebase||[]).push([[0],{114:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return D}));var a=n(4),r=n(29),c=n.n(r),i=n(22),s=(n(82),n(60)),o=n(141),d=n(144),j=n(145),u=n(151),l="/login",b="/chat",h=n(49),p=n(19),x=function(){var e=Object(a.useContext)(D).auth,t=Object(h.a)(e),n=Object(i.a)(t,1)[0];return Object(p.jsx)(o.a,{style:{marginBottom:10},color:"secondary",position:"static",children:Object(p.jsx)(d.a,{variant:"dense",children:Object(p.jsx)(j.a,{container:!0,justifyContent:"flex-end",children:n?Object(p.jsx)(u.a,{onClick:function(){return e.signOut()},variant:"outlined",children:"\u0412\u044b\u0439\u0442\u0438"}):Object(p.jsx)(s.b,{to:l,children:Object(p.jsx)(u.a,{variant:"outlined",children:"\u041b\u043e\u0433\u0438\u043d"})})})})})},O=n(31),m=n(0),f=n.n(m),g=n(3),v=n(146),y=n(147),w=n(150),C=n(47),k=function(){var e=Object(a.useContext)(D).auth,t=function(){var t=Object(g.a)(f.a.mark((function t(){var n,a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new C.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:a=t.sent,r=a.user,console.log(r);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(p.jsx)(v.a,{children:Object(p.jsx)(j.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justifyContent:"center",children:Object(p.jsxs)(j.a,{style:{borderRadius:15,width:400,paddingTop:20,background:"rgba(225,237,255,0.93)"},container:!0,alignItems:"center",direction:"column",children:[Object(p.jsx)(y.a,{variant:"h5",children:"\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e \u0442\u0435\u0431\u044f, \u0441\u0430\u043c\u0443\u0440\u0430\u0439!"}),Object(p.jsx)(w.a,{p:5,children:Object(p.jsx)(u.a,{onClick:t,variant:"outlined",children:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Google"})})]})})})},I=n(152),R=n(148),_=n(90),B=function(){return Object(p.jsx)(v.a,{children:Object(p.jsx)(j.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justifyContent:"center",children:Object(p.jsx)(j.a,{container:!0,alignItems:"center",direction:"column",children:Object(p.jsxs)(w.a,{children:[Object(p.jsx)("div",{className:"lds-hourglass"}),Object(p.jsx)(y.a,{variant:"h5",children:"loading..."})]})})})})},A=[{path:l,Component:k}],L=[{path:b,Component:function(){var e=Object(a.useContext)(D),t=e.auth,n=e.firestore,r=Object(h.a)(t),c=Object(i.a)(r,1)[0],s=Object(a.useState)(""),o=Object(i.a)(s,2),d=o[0],l=o[1],b=Object(_.a)(n().collection("messages").orderBy("createdAt")),x=Object(i.a)(b,2),O=x[0],m=x[1],w=function(){var e=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n().collection("messages").add({uid:c.uid,displayName:c.displayName,photoURL:c.photoURL,text:d,createdAt:C.a.firestore.FieldValue.serverTimestamp()}),l("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return m?Object(p.jsx)(B,{}):Object(p.jsxs)(v.a,{children:[Object(p.jsx)(y.a,{variant:"h5",align:"center",children:"\u0427\u0430\u0442 \u0441\u0430\u043c\u0443\u0440\u0430\u0435\u0432:"}),Object(p.jsxs)(j.a,{container:!0,justify:"center",style:{height:window.innerHeight-150,marginTop:20},children:[Object(p.jsx)("div",{style:{width:"80%",height:"70vh",border:"1px solid grey",borderRadius:"10px",overflowY:"auto"},children:O&&O.map((function(e){return Object(p.jsxs)("div",{style:{margin:10,border:c.uid===e.uid?"2px solid green":"2px solid red",marginLeft:c.uid===e.uid?"auto":"10px",width:"fit-content",padding:5,borderRadius:10},children:[Object(p.jsxs)(j.a,{container:!0,alignItems:"center",style:{marginBottom:5},children:[Object(p.jsx)(I.a,{src:e.photoURL}),Object(p.jsx)("div",{style:{marginLeft:5,borderRadius:10},children:e.displayName})]}),Object(p.jsx)("div",{children:e.text})]})}))}),Object(p.jsxs)(j.a,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"80%"},children:[Object(p.jsx)(R.a,{fullWidth:!0,rowsMax:2,variant:"outlined",value:d,onChange:function(e){return l(e.target.value)},style:{borderRadius:"20px",marginBottom:5}}),Object(p.jsx)(u.a,{onClick:w,color:"secondary",variant:"outlined",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})]})}}],N=function(){var e=Object(a.useContext)(D).auth,t=Object(h.a)(e);return Object(i.a)(t,1)[0]?Object(p.jsxs)(O.d,{children:[L.map((function(e){var t=e.path,n=e.Component;return Object(p.jsx)(O.b,{path:t,component:n,exact:!0},t)})),Object(p.jsx)(O.a,{to:b})]}):Object(p.jsxs)(O.d,{children:[A.map((function(e){var t=e.path,n=e.Component;return Object(p.jsx)(O.b,{path:t,component:n,exact:!0},t)})),Object(p.jsx)(O.a,{to:l})]})};var U=function(){var e=Object(a.useContext)(D).auth,t=Object(h.a)(e),n=Object(i.a)(t,3),r=(n[0],n[1]);return n[2],r?Object(p.jsx)(B,{}):Object(p.jsxs)(s.a,{children:[Object(p.jsx)(x,{}),Object(p.jsx)(N,{})]})};n(113),n(115);C.a.initializeApp({apiKey:"AIzaSyDOCn_WfoRDGdKzorNRKsURZs53oUnD170",authDomain:"kysapka-web-chat-react.firebaseapp.com",projectId:"kysapka-web-chat-react",storageBucket:"kysapka-web-chat-react.appspot.com",messagingSenderId:"432851087871",appId:"1:432851087871:web:f04b1d57b92b727765b7ca",measurementId:"G-93KZCW63MZ"});var D=Object(a.createContext)({}),G=C.a.auth(),K=C.a.firestore;c.a.render(Object(p.jsx)(D.Provider,{value:{firebase:C.a,auth:G,firestore:K},children:Object(p.jsx)(U,{})}),document.getElementById("root"))},82:function(e,t,n){}},[[114,1,2]]]);
//# sourceMappingURL=main.b12f0bd9.chunk.js.map